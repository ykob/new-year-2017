!function e(n,t,r){function i(o,u){if(!t[o]){if(!n[o]){var d="function"==typeof require&&require;if(!u&&d)return d(o,!0);if(a)return a(o,!0);var s=new Error("Cannot find module '"+o+"'");throw s.code="MODULE_NOT_FOUND",s}var c=t[o]={exports:{}};n[o][0].call(c.exports,function(e){var t=n[o][1][e];return i(t?t:e)},c,c.exports,e,n,t,r)}return t[o].exports}for(var a="function"==typeof require&&require,o=0;o<r.length;o++)i(r[o]);return i}({1:[function(e,n,t){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}var i=e("./modules/PostEffect.js"),a=r(i),o=e("./modules/Chicken.js"),u=r(o),d=document.getElementById("canvas-webgl"),s=new THREE.WebGLRenderer({antialias:!1,canvas:d}),c=new THREE.WebGLRenderTarget(window.innerWidth,window.innerHeight),f=new THREE.Scene,l=new THREE.Scene,v=new THREE.OrthographicCamera((-1),1,1,(-1),0,1),h=new THREE.PerspectiveCamera(50,window.innerWidth/window.innerHeight,1,1e5),m=new THREE.Clock,w=new a["default"](c.texture),p=new u["default"],y=function(){d.width=window.innerWidth,d.height=window.innerHeight,h.aspect=window.innerWidth/window.innerHeight,h.updateProjectionMatrix(),c.setSize(window.innerWidth,window.innerHeight),s.setSize(window.innerWidth,window.innerHeight)},E=function(){window.addEventListener("resize",function(){y()})},g=function(){p.render(m.getDelta()),s.render(l,h,c),w.render(m.getDelta()),s.render(f,v)},x=function M(){g(),requestAnimationFrame(M)},b=function(){s.setSize(window.innerWidth,window.innerHeight),s.setClearColor(15658734,1),h.position.set(0,0,2e4),h.lookAt(new THREE.Vector3),f.add(w.mesh),p.load(function(){l.add(p.mesh),E(),x()}),y()};b()},{"./modules/Chicken.js":2,"./modules/PostEffect.js":3}],2:[function(e,n,t){"use strict";function r(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),a=function(){function e(){r(this,e),this.loader=new THREE.OBJLoader,this.uniforms={time:{type:"f",value:0}},this.mesh=null,this.instances=1e3}return i(e,[{key:"load",value:function(e){var n=this;this.loader.load("./obj/big_chicken.obj",function(t){n.mesh=n.createMesh(n.createGeometry(t)),e&&e()})}},{key:"createGeometry",value:function(e){for(var n=new THREE.InstancedBufferGeometry,t=[],r=[],i=[],a=0;a<e.children.length;a++)Array.prototype.push.apply(t,e.children[a].geometry.getAttribute("position").array),Array.prototype.push.apply(r,e.children[a].geometry.getAttribute("normal").array),Array.prototype.push.apply(i,e.children[a].geometry.getAttribute("uv").array);var o=new Float32Array(t),u=new Float32Array(r),d=new Int16Array(i);n.addAttribute("position",new THREE.BufferAttribute(o,3)),n.addAttribute("normal",new THREE.BufferAttribute(u,3)),n.addAttribute("uv",new THREE.BufferAttribute(d,2));for(var s=new THREE.InstancedBufferAttribute(new Float32Array(3*this.instances),3,1),c=new THREE.InstancedBufferAttribute(new Float32Array(3*this.instances),3,1),a=0,f=s.count;a<f;a++)s.setXYZ(a,Math.random()-.5,Math.random()-.5,Math.random()-.5),c.setXYZ(a,Math.random()-.5,Math.random()-.5,Math.random()-.5);return n.addAttribute("offset",s),n.addAttribute("rotate",c),n}},{key:"createMesh",value:function(e){return new THREE.Mesh(e,new THREE.RawShaderMaterial({uniforms:this.uniforms,vertexShader:"#define GLSLIFY 1\nattribute vec3 position;\nattribute vec3 normal;\nattribute vec2 uv;\nattribute vec3 offset;\nattribute vec3 rotate;\n\nuniform mat4 projectionMatrix;\nuniform mat4 modelViewMatrix;\nuniform float time;\n\nvarying vec3 vNormal;\n\nmat4 translateMatrix(vec3 v) {\n  return mat4(\n    1.0, 0.0, 0.0, 0.0,\n    0.0, 1.0, 0.0, 0.0,\n    0.0, 0.0, 1.0, 0.0,\n    v.x, v.y, v.z, 1.0\n  );\n}\n\nmat4 rotateMatrixX(float radian) {\n  return mat4(\n    1.0, 0.0, 0.0, 0.0,\n    0.0, cos(radian), -sin(radian), 0.0,\n    0.0, sin(radian), cos(radian), 0.0,\n    0.0, 0.0, 0.0, 1.0\n  );\n}\n\nmat4 rotateMatrixY(float radian) {\n  return mat4(\n    cos(radian), 0.0, sin(radian), 0.0,\n    0.0, 1.0, 0.0, 0.0,\n    -sin(radian), 0.0, cos(radian), 0.0,\n    0.0, 0.0, 0.0, 1.0\n  );\n}\n\nmat4 rotateMatrixZ(float radian) {\n  return mat4(\n    cos(radian), -sin(radian), 0.0, 0.0,\n    sin(radian), cos(radian), 0.0, 0.0,\n    0.0, 0.0, 1.0, 0.0,\n    0.0, 0.0, 0.0, 1.0\n  );\n}\n\nmat4 rotateMatrix(float radX, float radY, float radZ) {\n  return rotateMatrixX(radX) * rotateMatrixY(radY) * rotateMatrixZ(radZ);\n}\n\nvoid main(void) {\n  float radian = radians(time);\n  vec4 updatePosition =\n    rotateMatrix(radian * 5.0 + rotate.x, radian * 20.0 + rotate.y, radian + rotate.z)\n    * translateMatrix(offset * 60000.0 + offset * sin(radian + rotate.x * 10.0) * 40000.0)\n    * rotateMatrix(radian * rotate.x * 100.0, radian * rotate.y * 100.0, radian * rotate.z * 100.0)\n    * vec4(position, 1.0);\n  vNormal = normal;\n  gl_Position = projectionMatrix * modelViewMatrix * updatePosition;\n}\n",fragmentShader:"precision highp float;\n#define GLSLIFY 1\n\nvarying vec3 vNormal;\n\nvec3 convertHsvToRgb(vec3 c) {\n  vec4 K = vec4(1.0, 2.0 / 3.0, 1.0 / 3.0, 3.0);\n  vec3 p = abs(fract(c.xxx + K.xyz) * 6.0 - K.www);\n  return c.z * mix(K.xxx, clamp(p - K.xxx, 0.0, 1.0), c.y);\n}\n\nvoid main(void) {\n  float h = dot(vNormal, vec3(1.0, 0.0, 0.0)) * 0.1 + 0.08;\n  vec3 color = convertHsvToRgb(vec3(h, 0.8, 1.0));\n  gl_FragColor = vec4(color, 1.0);\n}\n"}))}},{key:"render",value:function(e){this.uniforms.time.value+=e}}]),e}();t["default"]=a},{}],3:[function(e,n,t){"use strict";function r(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),a=function(){function e(n){r(this,e),this.uniforms={time:{type:"f",value:0},resolution:{type:"v2",value:new THREE.Vector2(window.innerWidth,window.innerHeight)},texture:{type:"t",value:n}},this.mesh=this.createMesh(n),this.time=1}return i(e,[{key:"createMesh",value:function(){return new THREE.Mesh(new THREE.PlaneBufferGeometry(2,2),new THREE.RawShaderMaterial({uniforms:this.uniforms,vertexShader:"#define GLSLIFY 1\nattribute vec3 position;\nattribute vec2 uv;\n\nvarying vec2 vUv;\n\nvoid main() {\n  vUv = uv;\n  gl_Position = vec4(position, 1.0);\n}\n",fragmentShader:"precision highp float;\n#define GLSLIFY 1\n\nuniform vec2 resolution;\nuniform sampler2D texture;\n\nvarying vec2 vUv;\n\nvoid main() {\n  vec4 color = texture2D(texture, vUv);\n  gl_FragColor = color;\n}\n"}))}},{key:"render",value:function(e){this.uniforms.time.value+=e*this.time}},{key:"resize",value:function(){this.uniforms.resolution.value.set(window.innerWidth,window.innerHeight)}}]),e}();t["default"]=a},{}]},{},[1]);